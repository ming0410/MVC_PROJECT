@using CameoMvc.Models;
@model M_PasswordChg

@{
    ViewData["Title"] = "ModifyPassword";
}


<div>
    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-error">
            <a class="close" data-dismiss="alert" href="#">×</a>
            @Html.ValidationSummary()
        </div>
    }
    <div class="sexyborder">
        @using (Html.BeginForm("ModifyPassword", "Home", FormMethod.Post, new { id = "frmModifyPassword" }))
        {
            <!--AntiForgeryToken，防止CSRF攻擊-->
            @Html.AntiForgeryToken();
            @Html.HiddenFor(m => m.FabId)
            @Html.HiddenFor(m => m.UserNo)
            @Html.HiddenFor(m => m.PasswordOld)

            <div class="login-box">
                <div class="card card-primary card-outline ">
                    <div class="card-header text-center">
                        <h3 class="card-title">
                            <i class="fas fa-edit"></i>
                            <p>修改密碼</p>
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="input-group mb-3">
                            @Html.PasswordFor(m => m.PasswordNew, new { id = "txtPasswordNew", @placeholder = "新密碼", @class = "form-control" })
                            <button id="show_passwordNew" type="button" class="btn btn-primary" >
                                <span id="iconEyeNew" class="fa fa-eye-slash"></span>
                            </button>                            
                        </div>
                        <div class="input-group mb-3">
                            @Html.PasswordFor(m => m.PasswordChk, new { id = "txtPasswordChk", @placeholder = "確認密碼", @class = "form-control" })
                            <button id="show_passwordChk" type="button" class="btn btn-primary">
                                <span id="iconEyeChk" class="fa fa-eye-slash"></span>
                            </button>
                        </div>
                    </div>
                    <div class="card-footer">
                        @*<button type="submit" value="MODIFY" class="btn btn-primary btn-lg">修改</button>*@
                        <a class="btn btn-app bg-success" onclick="document.getElementById('frmModifyPassword').submit()">
                            <i class="fas fa-save">儲存</i>
                        </a>
                    </div>
                </div>

            </div>
        }
    </div>
</div>